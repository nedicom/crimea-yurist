{% load wagtailcore_tags static%}
<style>
/* –°—Ç–∏–ª–∏ –¥–ª—è –æ–∫–Ω–∞ —Å–æ–≥–ª–∞—Å–∏—è –Ω–∞ –∫—É–∫–∏ —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å—é */
.cookie-consent {
    position: fixed;
    bottom: 20px;
    left: 20px;
    right: 20px;
    max-width: 400px;
    background: #1a365d; /* –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π –≤–º–µ—Å—Ç–æ —Å–µ—Ä–æ–≥–æ - –ª—É—á—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å –±–µ–ª—ã–º —Ç–µ–∫—Å—Ç–æ–º */
    color: #ffffff; /* –ß–∏—Å—Ç—ã–π –±–µ–ª—ã–π –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ */
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    z-index: 10000;
    font-family: 'Arial', sans-serif;
    display: none;
    border: 1px solid #2d3748; /* –î–æ–±–∞–≤–ª—è–µ–º –≥—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç–¥–µ–ª–µ–Ω–∏—è –æ—Ç —Ñ–æ–Ω–∞ */
}

.cookie-consent__content {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.cookie-consent__text h3 {
    margin: 0 0 8px 0;
    font-size: 16px;
    color: #63b3ed; /* –ë–æ–ª–µ–µ —Å–≤–µ—Ç–ª—ã–π —Å–∏–Ω–∏–π –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
    font-weight: 600;
}

.cookie-consent__text p {
    margin: 0;
    font-size: 14px;
    line-height: 1.5;
    color: #e2e8f0; /* –°–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ */
}

.cookie-consent__text a {
    color: #90cdf4; /* –ë–æ–ª–µ–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Å–∏–Ω–∏–π –¥–ª—è —Å—Å—ã–ª–æ–∫ */
    text-decoration: underline;
    font-weight: 500;
}

.cookie-consent__text a:hover {
    color: #63b3ed;
    text-decoration: none;
}

.cookie-consent__actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.cookie-consent__btn {
    padding: 12px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s ease;
    flex: 1;
    min-width: 120px;
    border: 2px solid transparent; /* –î–ª—è –ª—É—á—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ñ–æ–∫—É—Å–∞ */
}

.cookie-consent__btn--accept {
    background: #2d7d46; /* –ë–æ–ª–µ–µ —Ç–µ–º–Ω—ã–π –∑–µ–ª–µ–Ω—ã–π –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ */
    color: white;
}

.cookie-consent__btn--accept:hover {
    background: #225e37;
}

.cookie-consent__btn--accept:focus {
    outline: 2px solid #90cdf4;
    outline-offset: 2px;
}

.cookie-consent__btn--reject {
    background: #4a5568; /* –ë–æ–ª–µ–µ —Ç–µ–º–Ω—ã–π —Å–µ—Ä—ã–π */
    color: white;
    border: 2px solid #718096;
}

.cookie-consent__btn--reject:hover {
    background: #2d3748;
}

.cookie-consent__btn--reject:focus {
    outline: 2px solid #90cdf4;
    outline-offset: 2px;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 480px) {
    .cookie-consent {
        left: 10px;
        right: 10px;
        bottom: 10px;
        max-width: none;
    }
    
    .cookie-consent__actions {
        flex-direction: column;
    }
    
    .cookie-consent__btn {
        flex: none;
    }
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –≤—ã—Å–æ–∫–æ–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ */
@media (prefers-contrast: high) {
    .cookie-consent {
        background: #000000;
        border: 2px solid #ffffff;
    }
    
    .cookie-consent__btn--accept {
        background: #006600;
    }
    
    .cookie-consent__btn--reject {
        background: #660000;
        border-color: #ffffff;
    }
}
</style>
<footer class="bg-dark text-light mt-5 py-4">
  <div class="container flex justify-center gap-5">
    <p>&copy; 2025</p>
    <p>{% wagtail_site as current_site %} {{ current_site.site_name }}</p>
    <p>–ò–ù–ù: 910209968612</p>
    <p>
      <a
        class="text-gray-700 hover:text-blue-600 py-2 transition-colors{% if request.path == '/politika-personalnyh-dannyh/' %} text-blue-600 font-medium{% endif %}"
        href="/politika-personalnyh-dannyh/"
        >–ü–æ–ª–∏—Ç–∏–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a
      >
    </p>
  </div>

  <div id="cookieConsent" class="cookie-consent">
    <div class="cookie-consent__content">
      <div class="cookie-consent__text">
        <h3>üç™ –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∞–π–ª—ã cookie</h3>
        <p>
          –≠—Ç–æ—Ç —Å–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã cookie –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –∏ –∞–Ω–∞–ª–∏–∑–∞
          —Ç—Ä–∞—Ñ–∏–∫–∞. –ü—Ä–æ–¥–æ–ª–∂–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –Ω–∞—à–µ–π
          <a href="/politika-personalnyh-dannyh/" target="_blank"
            >–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a
          >
          –∏ –Ω–∞—à–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
        </p>
      </div>
      <div class="cookie-consent__actions">
        <button
          id="cookieAccept"
          class="cookie-consent__btn cookie-consent__btn--accept"
        >
          –ü—Ä–∏–Ω—è—Ç—å
        </button>
        <button
          id="cookieReject"
          class="cookie-consent__btn cookie-consent__btn--reject"
        >
          –û—Ç–∫–ª–æ–Ω–∏—Ç—å
        </button>
      </div>
    </div>
  </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const cookieConsent = document.getElementById('cookieConsent');
    const cookieAccept = document.getElementById('cookieAccept');
    const cookieReject = document.getElementById('cookieReject');

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–æ –ª–∏ —É–∂–µ –¥–∞–Ω–æ —Å–æ–≥–ª–∞—Å–∏–µ
    if (!getCookie('cookieConsent')) {
        setTimeout(() => {
            cookieConsent.style.display = 'block';
        }, 1000);
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏–Ω—è—Ç–∏—è cookies
    cookieAccept.addEventListener('click', function() {
        setCookie('cookieConsent', 'accepted', 365);
        cookieConsent.style.display = 'none';
        initializeAnalytics();
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è cookies
    cookieReject.addEventListener('click', function() {
        setCookie('cookieConsent', 'rejected', 30);
        cookieConsent.style.display = 'none';
        disableOptionalCookies();
    });

    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å cookies
    function setCookie(name, value, days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        const expires = "expires=" + date.toUTCString();
        document.cookie = name + "=" + value + ";" + expires + ";path=/;SameSite=Lax";
    }

    function getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    function initializeAnalytics() {
        console.log('Analytics initialized - cookies accepted');
    }

    function disableOptionalCookies() {
        console.log('Optional cookies disabled');
    }
});
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GQRYE4HJ0W"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-GQRYE4HJ0W');
</script>