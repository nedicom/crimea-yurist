{% load wagtailcore_tags %} 
<style>
  /* –°—Ç–∏–ª–∏ –¥–ª—è –æ–∫–Ω–∞ —Å–æ–≥–ª–∞—Å–∏—è –Ω–∞ –∫—É–∫–∏ */
.cookie-consent {
    position: fixed;
    bottom: 20px;
    left: 20px;
    right: 20px;
    max-width: 400px;
    background: #2c3e50;
    color: #ecf0f1;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    z-index: 10000;
    font-family: 'Arial', sans-serif;
    display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
}

.cookie-consent__content {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.cookie-consent__text h3 {
    margin: 0 0 8px 0;
    font-size: 16px;
    color: #3498db;
}

.cookie-consent__text p {
    margin: 0;
    font-size: 14px;
    line-height: 1.4;
}

.cookie-consent__text a {
    color: #3498db;
    text-decoration: underline;
}

.cookie-consent__text a:hover {
    color: #2980b9;
}

.cookie-consent__actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.cookie-consent__btn {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
    flex: 1;
    min-width: 120px;
}

.cookie-consent__btn--accept {
    background: #27ae60;
    color: white;
}

.cookie-consent__btn--accept:hover {
    background: #219a52;
}

.cookie-consent__btn--reject {
    background: transparent;
    color: #bdc3c7;
    border: 1px solid #7f8c8d;
}

.cookie-consent__btn--reject:hover {
    background: #34495e;
    color: #ecf0f1;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
@media (max-width: 480px) {
    .cookie-consent {
        left: 10px;
        right: 10px;
        bottom: 10px;
        max-width: none;
    }
    
    .cookie-consent__actions {
        flex-direction: column;
    }
    
    .cookie-consent__btn {
        flex: none;
    }
}
</style>
<footer class="bg-dark text-light mt-5 py-4">
  <div class="container flex justify-center gap-5">
    <p>&copy; 2025</p>
    <p>{% wagtail_site as current_site %} {{ current_site.site_name }}</p>
    <p>–ò–ù–ù: 910209968612</p>
    <p>
      <a
        class="text-gray-700 hover:text-blue-600 py-2 transition-colors{% if request.path == '/politika-personalnyh-dannyh/' %} text-blue-600 font-medium{% endif %}"
        href="/politika-personalnyh-dannyh/"
        >–ü–æ–ª–∏—Ç–∏–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a
      >
    </p>
  </div>

  <div id="cookieConsent" class="cookie-consent">
    <div class="cookie-consent__content">
      <div class="cookie-consent__text">
        <h3>üç™ –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∞–π–ª—ã cookie</h3>
        <p>
          –≠—Ç–æ—Ç —Å–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª—ã cookie –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –∏ –∞–Ω–∞–ª–∏–∑–∞
          —Ç—Ä–∞—Ñ–∏–∫–∞. –ü—Ä–æ–¥–æ–ª–∂–∞—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –Ω–∞—à–µ–π
          <a href="/politika-personalnyh-dannyh/" target="_blank"
            >–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a
          >
          –∏ –Ω–∞—à–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
        </p>
      </div>
      <div class="cookie-consent__actions">
        <button
          id="cookieAccept"
          class="cookie-consent__btn cookie-consent__btn--accept"
        >
          –ü—Ä–∏–Ω—è—Ç—å
        </button>
        <button
          id="cookieReject"
          class="cookie-consent__btn cookie-consent__btn--reject"
        >
          –û—Ç–∫–ª–æ–Ω–∏—Ç—å
        </button>
      </div>
    </div>
  </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const cookieConsent = document.getElementById('cookieConsent');
    const cookieAccept = document.getElementById('cookieAccept');
    const cookieReject = document.getElementById('cookieReject');

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–æ –ª–∏ —É–∂–µ –¥–∞–Ω–æ —Å–æ–≥–ª–∞—Å–∏–µ
    if (!getCookie('cookieConsent')) {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–∫–Ω–æ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–ª—è –ª—É—á—à–µ–≥–æ UX
        setTimeout(() => {
            cookieConsent.style.display = 'block';
        }, 1000);
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏–Ω—è—Ç–∏—è cookies
    cookieAccept.addEventListener('click', function() {
        setCookie('cookieConsent', 'accepted', 365);
        cookieConsent.style.display = 'none';
        
        // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É (Google Analytics, –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ –∏ —Ç.–¥.)
        initializeAnalytics();
    });

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è cookies
    cookieReject.addEventListener('click', function() {
        setCookie('cookieConsent', 'rejected', 30);
        cookieConsent.style.display = 'none';
        
        // –û—Ç–∫–ª—é—á–∞–µ–º –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ cookies
        disableOptionalCookies();
    });

    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å cookies
    function setCookie(name, value, days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        const expires = "expires=" + date.toUTCString();
        document.cookie = name + "=" + value + ";" + expires + ";path=/;SameSite=Lax";
    }

    function getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    function initializeAnalytics() {
        // –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –∑–¥–µ—Å—å –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∞—à–µ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
        // –ù–∞–ø—Ä–∏–º–µ—Ä: Google Analytics, –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ –∏ —Ç.–¥.
        console.log('Analytics initialized - cookies accepted');
    }

    function disableOptionalCookies() {
        // –£–¥–∞–ª—è–µ–º –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ cookies –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
        console.log('Optional cookies disabled');
    }
});
</script>